/*! * SlickNav Responsive Mobile Menu v1.0.10 * (c) 2016 Josh Cope * licensed under MIT */;(function(f,a,d){var g={label:"MENU",duplicate:true,duration:200,easingOpen:"swing",easingClose:"swing",closedSymbol:"&#9658;",openedSymbol:"&#9660;",prependTo:"body",appendTo:"",parentTag:"a",closeOnClick:false,allowParentLinks:false,nestedParentLinks:true,showChildren:false,removeIds:true,removeClasses:false,removeStyles:false,brand:"",animations:"jquery",init:function(){},beforeOpen:function(){},beforeClose:function(){},afterOpen:function(){},afterClose:function(){}},h="slicknav",e="slicknav",b={DOWN:40,ENTER:13,ESCAPE:27,LEFT:37,RIGHT:39,SPACE:32,TAB:9,UP:38};function c(j,i){this.element=j;this.settings=f.extend({},g,i);if(!this.settings.duplicate&&!i.hasOwnProperty("removeIds")){this.settings.removeIds=false}this._defaults=g;this._name=h;this.init()}c.prototype.init=function(){var m=this,n=f(this.element),l=this.settings,i,k;if(l.duplicate){m.mobileNav=n.clone()}else{m.mobileNav=n}if(l.removeIds){m.mobileNav.removeAttr("id");m.mobileNav.find("*").each(function(p,q){f(q).removeAttr("id")})}if(l.removeClasses){m.mobileNav.removeAttr("class");m.mobileNav.find("*").each(function(p,q){f(q).removeAttr("class")})}if(l.removeStyles){m.mobileNav.removeAttr("style");m.mobileNav.find("*").each(function(p,q){f(q).removeAttr("style")})}i=e+"_icon";if(l.label===""){i+=" "+e+"_no-text"}if(l.parentTag=="a"){l.parentTag='a href="#"'}m.mobileNav.attr("class",e+"_nav");k=f('<div class="'+e+'_menu"></div>');if(l.brand!==""){var o=f('<div class="'+e+'_brand">'+l.brand+"</div>");f(k).append(o)}m.btn=f(["<"+l.parentTag+' aria-haspopup="true" role="button" tabindex="0" class="'+e+"_btn "+e+'_collapsed">','<span class="'+e+'_menutxt">'+l.label+"</span>",'<span class="'+i+'">','<span class="'+e+'_icon-bar"></span>','<span class="'+e+'_icon-bar"></span>','<span class="'+e+'_icon-bar"></span>',"</span>","</"+l.parentTag+">"].join(""));f(k).append(m.btn);if(l.appendTo!==""){f(l.appendTo).append(k)}else{f(l.prependTo).prepend(k)}k.append(m.mobileNav);var j=m.mobileNav.find("li");f(j).each(function(){var u=f(this),v={};v.children=u.children("ul").attr("role","menu");u.data("menu",v);if(v.children.length>0){var q=u.contents(),t=false,r=[];f(q).each(function(){if(!f(this).is("ul")){r.push(this)}else{return false}if(f(this).is("a")){t=true}});var w=f("<"+l.parentTag+' role="menuitem" aria-haspopup="true" tabindex="-1" class="'+e+'_item"/>');if((!l.allowParentLinks||l.nestedParentLinks)||!t){var p=f(r).wrapAll(w).parent();p.addClass(e+"_row")}else{f(r).wrapAll('<span class="'+e+"_parent-link "+e+'_row"/>').parent()}if(!l.showChildren){u.addClass(e+"_collapsed")}else{u.addClass(e+"_open")}u.addClass(e+"_parent");var s=f('<span class="'+e+'_arrow">'+(l.showChildren?l.openedSymbol:l.closedSymbol)+"</span>");if(l.allowParentLinks&&!l.nestedParentLinks&&t){s=s.wrap(w).parent()}f(r).last().after(s)}else{if(u.children().length===0){u.addClass(e+"_txtnode")}}u.children("a").attr("role","menuitem").click(function(x){if(l.closeOnClick&&!f(x.target).parent().closest("li").hasClass(e+"_parent")){f(m.btn).click()}});if(l.closeOnClick&&l.allowParentLinks){u.children("a").children("a").click(function(x){f(m.btn).click()});u.find("."+e+"_parent-link a:not(."+e+"_item)").click(function(x){f(m.btn).click()})}});f(j).each(function(){var p=f(this).data("menu");if(!l.showChildren){m._visibilityToggle(p.children,null,false,null,true)}});m._visibilityToggle(m.mobileNav,null,false,"init",true);m.mobileNav.attr("role","menu");f(a).mousedown(function(){m._outlines(false)});f(a).keyup(function(){m._outlines(true)});f(m.btn).click(function(p){p.preventDefault();m._menuToggle()});m.mobileNav.on("click","."+e+"_item",function(p){p.preventDefault();m._itemClick(f(this))});f(m.btn).keydown(function(q){var p=q||event;switch(p.keyCode){case b.ENTER:case b.SPACE:case b.DOWN:q.preventDefault();if(p.keyCode!==b.DOWN||!f(m.btn).hasClass(e+"_open")){m._menuToggle()}f(m.btn).next().find('[role="menuitem"]').first().focus();break}});m.mobileNav.on("keydown","."+e+"_item",function(q){var p=q||event;switch(p.keyCode){case b.ENTER:q.preventDefault();m._itemClick(f(q.target));break;case b.RIGHT:q.preventDefault();if(f(q.target).parent().hasClass(e+"_collapsed")){m._itemClick(f(q.target))}f(q.target).next().find('[role="menuitem"]').first().focus();break}});m.mobileNav.on("keydown",'[role="menuitem"]',function(v){var t=v||event;switch(t.keyCode){case b.DOWN:v.preventDefault();var s=f(v.target).parent().parent().children().children('[role="menuitem"]:visible');var p=s.index(v.target);var u=p+1;if(s.length<=u){u=0}var r=s.eq(u);r.focus();break;case b.UP:v.preventDefault();var s=f(v.target).parent().parent().children().children('[role="menuitem"]:visible');var p=s.index(v.target);var r=s.eq(p-1);r.focus();break;case b.LEFT:v.preventDefault();if(f(v.target).parent().parent().parent().hasClass(e+"_open")){var q=f(v.target).parent().parent().prev();q.focus();m._itemClick(q)}else{if(f(v.target).parent().parent().hasClass(e+"_nav")){m._menuToggle();f(m.btn).focus()}}break;case b.ESCAPE:v.preventDefault();m._menuToggle();f(m.btn).focus();break}});if(l.allowParentLinks&&l.nestedParentLinks){f("."+e+"_item a").click(function(p){p.stopImmediatePropagation()})}};c.prototype._menuToggle=function(k){var l=this;var j=l.btn;var i=l.mobileNav;if(j.hasClass(e+"_collapsed")){j.removeClass(e+"_collapsed");j.addClass(e+"_open")}else{j.removeClass(e+"_open");j.addClass(e+"_collapsed")}j.addClass(e+"_animating");l._visibilityToggle(i,j.parent(),true,j)};c.prototype._itemClick=function(j){var l=this;var i=l.settings;var k=j.data("menu");if(!k){k={};k.arrow=j.children("."+e+"_arrow");k.ul=j.next("ul");k.parent=j.parent();if(k.parent.hasClass(e+"_parent-link")){k.parent=j.parent().parent();k.ul=j.parent().next("ul")}j.data("menu",k)}if(k.parent.hasClass(e+"_collapsed")){k.arrow.html(i.openedSymbol);k.parent.removeClass(e+"_collapsed");k.parent.addClass(e+"_open");k.parent.addClass(e+"_animating");l._visibilityToggle(k.ul,k.parent,true,j)}else{k.arrow.html(i.closedSymbol);k.parent.addClass(e+"_collapsed");k.parent.removeClass(e+"_open");k.parent.addClass(e+"_animating");l._visibilityToggle(k.ul,k.parent,true,j)}};c.prototype._visibilityToggle=function(j,r,i,k,s){var q=this;var l=q.settings;var p=q._getActionItems(j);var m=0;if(i){m=l.duration}function n(t,u){f(t).removeClass(e+"_animating");f(u).removeClass(e+"_animating");if(!s){l.afterOpen(t)}}function o(t,u){j.attr("aria-hidden","true");p.attr("tabindex","-1");q._setVisAttr(j,true);j.hide();f(t).removeClass(e+"_animating");f(u).removeClass(e+"_animating");if(!s){l.afterClose(t)}else{if(t=="init"){l.init()}}}if(j.hasClass(e+"_hidden")){j.removeClass(e+"_hidden");if(!s){l.beforeOpen(k)}if(l.animations==="jquery"){j.stop(true,true).slideDown(m,l.easingOpen,function(){n(k,r)})}else{if(l.animations==="velocity"){j.velocity("finish").velocity("slideDown",{duration:m,easing:l.easingOpen,complete:function(){n(k,r)}})}}j.attr("aria-hidden","false");p.attr("tabindex","0");q._setVisAttr(j,false)}else{j.addClass(e+"_hidden");if(!s){l.beforeClose(k)}if(l.animations==="jquery"){j.stop(true,true).slideUp(m,this.settings.easingClose,function(){o(k,r)})}else{if(l.animations==="velocity"){j.velocity("finish").velocity("slideUp",{duration:m,easing:l.easingClose,complete:function(){o(k,r)}})}}}};c.prototype._setVisAttr=function(j,k){var l=this;var i=j.children("li").children("ul").not("."+e+"_hidden");if(!k){i.each(function(){var n=f(this);n.attr("aria-hidden","false");var m=l._getActionItems(n);m.attr("tabindex","0");l._setVisAttr(n,k)})}else{i.each(function(){var n=f(this);n.attr("aria-hidden","true");var m=l._getActionItems(n);m.attr("tabindex","-1");l._setVisAttr(n,k)})}};c.prototype._getActionItems=function(j){var l=j.data("menu");if(!l){l={};var i=j.children("li");var k=i.find("a");l.links=k.add(i.find("."+e+"_item"));j.data("menu",l)}return l.links};c.prototype._outlines=function(i){if(!i){f("."+e+"_item, ."+e+"_btn").css("outline","none")}else{f("."+e+"_item, ."+e+"_btn").css("outline","")}};c.prototype.toggle=function(){var i=this;i._menuToggle()};c.prototype.open=function(){var i=this;if(i.btn.hasClass(e+"_collapsed")){i._menuToggle()}};c.prototype.close=function(){var i=this;if(i.btn.hasClass(e+"_open")){i._menuToggle()}};f.fn[h]=function(j){var i=arguments;if(j===undefined||typeof j==="object"){return this.each(function(){if(!f.data(this,"plugin_"+h)){f.data(this,"plugin_"+h,new c(this,j))}})}else{if(typeof j==="string"&&j[0]!=="_"&&j!=="init"){var k;this.each(function(){var l=f.data(this,"plugin_"+h);if(l instanceof c&&typeof l[j]==="function"){k=l[j].apply(l,Array.prototype.slice.call(i,1))}});return k!==undefined?k:this}}}}(jQuery,document,window));